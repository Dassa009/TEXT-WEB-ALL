
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Tech With Dasun Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
@import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Orbitron:wght@400..900&family=Gemunu+Libe:wght@200..800&display=swap');

/* ===== RESET ===== */
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family: Arial, sans-serif;
}

/* ===== BODY ===== */
body{
background:black;
overflow-x:hidden;
color:white;
}

/* ===== ANIMATED BACKGROUND OPTIONS ===== */
/* Choose ONE of these background styles by uncommenting it */

/* OPTION 1: TECH MATRIX RAIN BACKGROUND */
.background {
  position: fixed;
  inset: 0;
  background: #000;
  overflow: hidden;
  z-index: -2;
}

.matrix-rain {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.raindrop {
  position: absolute;
  font-family: 'Orbitron', monospace;
  font-size: 18px;
  color: #0f0;
  text-shadow: 0 0 5px #0f0, 0 0 10px #0f0;
  animation: fall linear infinite;
}

@keyframes fall {
  to {
    transform: translateY(100vh);
  }
}

/* ===== BACKGROUND OVERLAY ===== */
.background-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  z-index: -1;
}

/* ===== HEADER ===== */
header{padding:15px}
.header-bar{
display:flex;
justify-content:space-between;
align-items:center;
}
.logo{
font-size:28px;
font-family:"Orbitron",sans-serif;
animation:colorChange 5s infinite;
}
@keyframes colorChange{
0%{color:#ff0000}
50%{color:#ffcc00}
100%{color:#00ffcc}
}

.menu-icon{
position:fixed;
top:20px;
right:20px;
width:50px;
height:50px;
background:rgba(0,212,255,.1);
border:3px solid rgba(0,212,255,.3);
border-radius:12px;
display:flex;
align-items:center;
justify-content:center;
font-size:22px;
cursor:pointer;
z-index:100;
}

/* ===== MENU ===== */
nav{
display:none;
background:rgba(0,0,0,.9);
margin-top:15px;
border-radius:10px;
overflow:hidden;
}
nav a{
display:block;
padding:14px;
color:white;
text-decoration:none;
border-bottom:1px solid #333;
font-family:"Orbitron",sans-serif;
cursor:pointer;
}
nav a:hover{
background:#00ffcc;
color:black;
}

/* ===== MAIN ===== */
main{
padding:30px;
text-align:center;
}

.page{
display:none;
animation:fade .4s ease;
}
.page.active{display:block}

@keyframes fade{
from{opacity:0;transform:translateY(10px)}
to{opacity:1;transform:translateY(0)}
}

.page h2{
font-family:"Bebas Neue",sans-serif;
font-size:28px;
margin-bottom:10px;
}

/* ===== BOT PAGE ===== */
.dassa1{color:#00ffff;font-weight:bold}

.slide{
max-width:900px;
margin:20px auto;
border-radius:20px;
overflow:hidden;
}
.slide img{
width:100%;
border-radius:15px;
box-shadow:0 0 20px #00ffff;
}

.freebot1{
font-weight:900;
color:#53BDA5;
line-height:1.6;
}

/* ===== STEPS ===== */
.steps{
background:rgba(0,0,0,0.8);
border-radius:15px;
box-shadow:0 0 20px #00f2ff;
padding:20px;
margin:25px auto;
max-width:900px;
backdrop-filter: blur(5px);
}

.botdeplostep{
font-size:24px;
color:#00ffcc;
font-family:"Orbitron",sans-serif;
margin-bottom:15px;
}

.sinhalastep,.inglishstep{
text-align:left;
line-height:1.7;
margin:10px 0;
font-family:"Gemunu Libre",sans-serif;
}

.inglishstep{font-family:"Orbitron",sans-serif}

h3{
margin:15px 0;
font-size:22px;
animation:colorChange 6s infinite;
}

/* ===== STORE PAGE SPECIFIC STYLES ===== */
.store-container {
  max-width: 1200px;
  margin: 0 auto;
}

.store-description {
  color: #a0e7ff;
  margin-bottom: 30px;
  font-size: 18px;
  font-family: "Gemunu Libre", sans-serif;
}

/* ===== SERVICE BOXES ===== */
.service-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 25px;
  margin-top: 40px;
}

.service-box {
  background: linear-gradient(145deg, rgba(26, 26, 46, 0.9), rgba(22, 33, 62, 0.9));
  border-radius: 20px;
  padding: 25px;
  position: relative;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  border: 1px solid rgba(0, 212, 255, 0.2);
  min-height: 320px;
  display: flex;
  flex-direction: column;
  backdrop-filter: blur(10px);
}

.service-box:hover {
  transform: translateY(-10px);
  box-shadow: 0 20px 40px rgba(0, 212, 255, 0.3);
  border-color: #00ffcc;
}

.service-icon {
  font-size: 50px;
  margin-bottom: 20px;
  color: #00ffcc;
  text-shadow: 0 0 15px rgba(0, 255, 204, 0.7);
  transition: all 0.3s ease;
}

.service-box:hover .service-icon {
  transform: scale(1.2) rotate(5deg);
  color: #ffcc00;
}

.service-title {
  font-family: "Orbitron", sans-serif;
  font-size: 22px;
  margin-bottom: 15px;
  color: #00ffff;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.service-description {
  color: #cccccc;
  line-height: 1.6;
  margin-bottom: 20px;
  flex-grow: 1;
  font-family: "Gemunu Libre", sans-serif;
}

.service-price {
  font-family: "Orbitron", sans-serif;
  font-size: 24px;
  color: #ffcc00;
  font-weight: bold;
  margin-bottom: 15px;
  text-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
}

/* ===== CONTACT BUTTON ===== */
.contact-btn {
  display: block;
  width: 100%;
  padding: 12px;
  background: linear-gradient(135deg, #00ffcc, #00b3ff);
  color: black;
  text-decoration: none;
  border-radius: 10px;
  font-family: "Orbitron", sans-serif;
  font-weight: bold;
  font-size: 16px;
  border: none;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  margin-top: auto;
  z-index: 1;
}

.contact-btn:hover {
  background: linear-gradient(135deg, #00b3ff, #00ffcc);
  box-shadow: 0 0 20px rgba(0, 255, 204, 0.7);
  transform: scale(1.05);
}

.contact-btn:active {
  transform: scale(0.98);
}

/* Contact button animation */
@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(0, 255, 204, 0.7);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(0, 255, 204, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(0, 255, 204, 0);
  }
}

.contact-btn {
  animation: pulse 2s infinite;
}

/* Add hover effect for contact button */
.contact-btn:hover {
  animation: none;
  box-shadow: 0 0 25px rgba(0, 255, 204, 0.9);
}

/* Animation for service boxes */
@keyframes floatIn {
  0% {
    opacity: 0;
    transform: translateY(30px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.service-box {
  animation: floatIn 0.6s ease forwards;
}

/* Delay animations for each box */
.service-box:nth-child(1) { animation-delay: 0.1s; }
.service-box:nth-child(2) { animation-delay: 0.2s; }
.service-box:nth-child(3) { animation-delay: 0.3s; }
.service-box:nth-child(4) { animation-delay: 0.4s; }
.service-box:nth-child(5) { animation-delay: 0.5s; }
.service-box:nth-child(6) { animation-delay: 0.6s; }

/* Add service button (only visible to admin) */
.add-service-btn {
  position: absolute;
  top: 15px;
  right: 15px;
  width: 35px;
  height: 35px;
  background: rgba(0, 212, 255, 0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: bold;
  color: #00ffcc;
  transition: all 0.3s ease;
  opacity: 0;
  cursor: pointer;
  z-index: 2;
}

.service-box:hover .add-service-btn {
  opacity: 1;
}

.add-service-btn:hover {
  background: rgba(0, 212, 255, 0.4);
  transform: rotate(90deg);
}

/* ===== ADMIN PANEL STYLES ===== */
.admin-panel {
  background: rgba(0, 20, 40, 0.95);
  border-radius: 20px;
  padding: 30px;
  margin: 40px auto;
  max-width: 500px;
  border: 2px solid #ffcc00;
  box-shadow: 0 0 40px rgba(255, 204, 0, 0.4);
  display: none;
  backdrop-filter: blur(10px);
}

.admin-panel.active {
  display: block;
  animation: fade 0.5s ease;
}

.admin-title {
  font-family: "Orbitron", sans-serif;
  font-size: 26px;
  color: #ffcc00;
  margin-bottom: 25px;
  text-align: center;
}

.admin-form {
  margin-bottom: 30px;
}

.form-group {
  margin-bottom: 20px;
  text-align: left;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  color: #a0e7ff;
  font-family: "Gemunu Libre", sans-serif;
  font-size: 18px;
}

.form-group input,
.form-group textarea,
.form-group select {
  width: 100%;
  padding: 12px 15px;
  background: rgba(0, 0, 0, 0.7);
  border: 1px solid #00ffcc;
  border-radius: 10px;
  color: white;
  font-size: 16px;
  transition: all 0.3s ease;
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
  outline: none;
  box-shadow: 0 0 15px rgba(0, 255, 204, 0.5);
}

.form-group textarea {
  min-height: 120px;
  resize: vertical;
}

.form-buttons {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 30px;
}

.btn {
  padding: 12px 30px;
  border: none;
  border-radius: 10px;
  font-family: "Orbitron", sans-serif;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.btn-primary {
  background: linear-gradient(135deg, #00ffcc, #00b3ff);
  color: black;
  font-weight: bold;
}

.btn-primary:hover {
  background: linear-gradient(135deg, #00b3ff, #00ffcc);
  box-shadow: 0 0 20px rgba(0, 255, 204, 0.7);
}

.btn-secondary {
  background: rgba(255, 255, 255, 0.1);
  color: white;
  border: 1px solid #00ffcc;
}

.btn-secondary:hover {
  background: rgba(0, 255, 204, 0.2);
}

.btn-warning {
  background: linear-gradient(135deg, #ffcc00, #ff9900);
  color: black;
  font-weight: bold;
}

.btn-warning:hover {
  background: linear-gradient(135deg, #ff9900, #ffcc00);
  box-shadow: 0 0 20px rgba(255, 204, 0, 0.7);
}

.btn-danger {
  background: linear-gradient(135deg, #ff3366, #ff0033);
  color: white;
  font-weight: bold;
}

.btn-danger:hover {
  background: linear-gradient(135deg, #ff0033, #ff3366);
  box-shadow: 0 0 20px rgba(255, 51, 102, 0.7);
}

/* ===== BUY PASSWORD BUTTON ===== */
.buy-password-container {
  margin: 30px auto;
  text-align: center;
  max-width: 500px;
}

.buy-password-title {
  font-family: "Orbitron", sans-serif;
  font-size: 22px;
  color: #ffcc00;
  margin-bottom: 15px;
  text-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
}

.buy-password-btn {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 15px;
  padding: 18px 35px;
  background: linear-gradient(135deg, #ff3366, #ff0033);
  color: white;
  text-decoration: none;
  border-radius: 15px;
  font-family: "Orbitron", sans-serif;
  font-weight: bold;
  font-size: 20px;
  border: none;
  cursor: pointer;
  transition: all 0.3s ease;
  overflow: hidden;
  z-index: 1;
  box-shadow: 0 10px 30px rgba(255, 51, 102, 0.3);
  min-width: 280px;
}

.buy-password-btn:hover {
  background: linear-gradient(135deg, #ff0033, #ff3366);
  box-shadow: 0 15px 40px rgba(255, 51, 102, 0.5);
  transform: translateY(-5px) scale(1.05);
}

.buy-password-btn:active {
  transform: translateY(0) scale(0.98);
}

.buy-password-btn::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transform: rotate(45deg);
  animation: shine 3s infinite linear;
  z-index: -1;
}

@keyframes shine {
  0% {
    transform: translateX(-100%) translateY(-100%) rotate(45deg);
  }
  100% {
    transform: translateX(100%) translateY(100%) rotate(45deg);
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(255, 51, 102, 0.5);
  }
  50% {
    box-shadow: 0 0 40px rgba(255, 51, 102, 0.8), 0 0 60px rgba(255, 51, 102, 0.4);
  }
}

.buy-password-btn {
  animation: float 3s ease-in-out infinite, glow 2s ease-in-out infinite;
}

.buy-password-btn i {
  font-size: 24px;
  animation: bounce 1s infinite alternate;
}

@keyframes bounce {
  0% {
    transform: translateY(0);
  }
  100% {
    transform: translateY(-5px);
  }
}

.buy-password-description {
  margin-top: 15px;
  color: #a0e7ff;
  font-family: "Gemunu Libre", sans-serif;
  font-size: 16px;
  max-width: 400px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.5;
}

/* Admin login button */
.admin-login-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #ffcc00, #ff9900);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  color: black;
  cursor: pointer;
  z-index: 99;
  box-shadow: 0 0 20px rgba(255, 204, 0, 0.5);
  transition: all 0.3s ease;
}

.admin-login-btn:hover {
  transform: scale(1.1);
  box-shadow: 0 0 30px rgba(255, 204, 0, 0.8);
}

.admin-login-btn.admin-active {
  background: linear-gradient(135deg, #00ffcc, #00b3ff);
  transform: rotate(45deg);
}

/* Login form */
.login-form {
  background: rgba(0, 10, 20, 0.95);
  border-radius: 20px;
  padding: 30px;
  margin: 50px auto;
  max-width: 400px;
  border: 2px solid #ffcc00;
  box-shadow: 0 0 40px rgba(255, 204, 0, 0.4);
  backdrop-filter: blur(10px);
}

.login-title {
  font-family: "Orbitron", sans-serif;
  font-size: 26px;
  color: #ffcc00;
  margin-bottom: 25px;
  text-align: center;
}

/* Admin controls */
.admin-controls {
  margin-top: 30px;
  padding-top: 20px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.control-buttons {
  display: flex;
  gap: 15px;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 20px;
}

/* Edit mode indicator */
.edit-mode-indicator {
  position: fixed;
  top: 20px;
  left: 20px;
  background: linear-gradient(135deg, #ffcc00, #ff9900);
  color: black;
  padding: 8px 15px;
  border-radius: 20px;
  font-family: "Orbitron", sans-serif;
  font-size: 14px;
  font-weight: bold;
  z-index: 100;
  box-shadow: 0 0 15px rgba(255, 204, 0, 0.5);
  display: none;
}

.edit-mode-indicator.active {
  display: block;
  animation: fade 0.5s ease;
}

/* ===== AUDIO PLAYER ===== */
:root{
--card:#020617cc;
--main:#22d3ee;
--accent:#a78bfa;
--text:#e5e7eb;
}

.player{
width:280px;
margin:30px auto;
background:var(--card);
backdrop-filter:blur(12px);
border-radius:20px;
padding:20px;
box-shadow:0 20px 40px #000;
}

.title{font-weight:700}
.sub{font-size:13px;opacity:.7;margin-bottom:15px}

.btn-audio{
width:70px;
height:70px;
border-radius:50%;
border:none;
background:linear-gradient(135deg,var(--main),var(--accent));
font-size:26px;
cursor:pointer;
box-shadow:0 0 25px var(--main);
}

.time{margin-top:10px;font-size:14px;opacity:.8}
</style>
</head>
<body>

<!-- BACKGROUND SECTION -->
<!-- Currently using Matrix Rain background -->
<div class="background">
  <div class="matrix-rain" id="matrixRain"></div>
</div>
<div class="background-overlay"></div>

<!-- Admin Login Button (Always visible) -->
<div class="admin-login-btn" id="adminLoginBtn" onclick="toggleAdminLogin()">
  <i class="fas fa-lock"></i>
</div>

<!-- Edit Mode Indicator -->
<div class="edit-mode-indicator" id="editModeIndicator">
  <i class="fas fa-edit"></i> EDIT MODE
</div>

<header>
  <div class="header-bar">
    <h1 class="logo">Tech With Dasun Store</h1>
    <div class="menu-icon" onclick="toggleMenu()">☰</div>
  </div>
  <nav id="menu">
    <a onclick="openPage('bots')">Free WP Bots</a>
    <a onclick="openPage('earn')">E Money Earn</a>
    <a onclick="openPage('store')">Store</a>
    <a onclick="openPage('about')">About</a>
    <a onclick="openPage('vehicle')">Vehicle Service</a>
    <a onclick="openPage('downloader')">Downloader</a>
  </nav>
</header>

<main>
<section id="bots" class="page active">
<h2>Free WP MINI Bot</h2>
<p class="dassa1">Developed by Programmer Dassa</p>
<div class="slide">
<img src="https://files.catbox.moe/gl1kqs.jpg">
</div>
<p class="freebot1">
Deploy this WhatsApp bot FREE.<br>
Just link the code to your WhatsApp.
</p>
<div class="steps">
<p class="botdeplostep">Bot Deploy Steps</p>
<h3>Sinhala</h3>
<p class="sinhalastep">
✓ Website එකට එන්න<br>
✓ Free Bot Page<br>
✓ Connect Button<br>
✓ Number Submit<br>
✓ Code Copy → WhatsApp Link Device
</p>
<h3>English</h3>
<p class="inglishstep">
✓ Visit Website<br>
✓ Free Bot Page<br>
✓ Connect Bot<br>
✓ Submit Number<br>
✓ Copy Code → WhatsApp Link Device
</p>
</div>
<div class="player">
<div class="title">PLAY SONG</div>
<div class="sub">by Hector</div>
<button class="btn-audio" onclick="toggleAudio()">
<i id="icon" class="fas fa-play"></i>
</button>
<div class="time" id="time">0:00</div>
<audio id="audio" src="https://files.catbox.moe/tvw1kz.mp3"></audio>
</div>
</section>

<section id="earn" class="page"><h2>E Money Earn</h2></section>

<section id="store" class="page">
  <div class="store-container">
    <h2>Our Services Store</h2>
    <p class="store-description">Explore our premium tech services. Click on any service to view details.</p>
    
    <!-- Login Form (Initially hidden) -->
    <div class="login-form" id="adminLoginForm" style="display: none;">
      <h3 class="login-title">Admin Login</h3>
      <div class="form-group">
        <label for="adminPassword">Password:</label>
        <input type="password" id="adminPassword" placeholder="Enter admin password" autocomplete="off">
      </div>
      <div class="form-buttons">
        <button type="button" class="btn btn-warning" onclick="adminLogin()">
          <i class="fas fa-sign-in-alt"></i> Login
        </button>
        <button type="button" class="btn btn-secondary" onclick="closeAdminLogin()">
          <i class="fas fa-times"></i> Cancel
        </button>
      </div>
      
      <!-- BUY PASSWORD BUTTON SECTION -->
      <div class="buy-password-container">
        <div class="buy-password-title">
          <i class="fas fa-key"></i> Want Admin Access?
        </div>
        <button class="buy-password-btn" onclick="buyPassword()">
          <i class="fab fa-whatsapp"></i> Buy Password
        </button>
        <p class="buy-password-description">
          Contact us on WhatsApp to purchase the admin password and get full access to manage your services!
        </p>
      </div>
      
      <p style="margin-top: 15px; color: #a0e7ff; font-size: 14px;">
        <i class="fas fa-info-circle"></i> Only you can access the admin panel.
      </p>
    </div>
    
    <!-- Admin Panel (Only visible when logged in) -->
    <div class="admin-panel" id="adminPanel">
      <h3 class="admin-title">Admin Panel</h3>
      <div class="admin-form">
        <form id="serviceForm">
          <div class="form-group">
            <label for="serviceName">Service Name:</label>
            <input type="text" id="serviceName" placeholder="e.g., WhatsApp Bot Development" required>
          </div>
          
          <div class="form-group">
            <label for="serviceIcon">Icon Class (FontAwesome):</label>
            <input type="text" id="serviceIcon" placeholder="e.g., fas fa-robot" value="fas fa-robot">
            <small style="color: #a0e7ff;">Get icons from <a href="https://fontawesome.com/icons" target="_blank" style="color: #00ffcc;">FontAwesome</a></small>
          </div>
          
          <div class="form-group">
            <label for="serviceDescription">Description:</label>
            <textarea id="serviceDescription" placeholder="Describe your service..." required></textarea>
          </div>
          
          <div class="form-group">
            <label for="servicePrice">Price (LKR):</label>
            <input type="text" id="servicePrice" placeholder="e.g., 5,000" required>
          </div>
          
          <div class="form-group">
            <label for="serviceColor">Accent Color:</label>
            <select id="serviceColor">
              <option value="#00ffcc">Cyan</option>
              <option value="#ffcc00">Yellow</option>
              <option value="#ff3366">Pink</option>
              <option value="#3366ff">Blue</option>
              <option value="#33cc33">Green</option>
              <option value="#ff9900">Orange</option>
              <option value="#a78bfa">Purple</option>
            </select>
          </div>
          
          <div class="form-buttons">
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-save"></i> Add Service
            </button>
            <button type="button" class="btn btn-secondary" onclick="clearForm()">
              <i class="fas fa-eraser"></i> Clear
            </button>
          </div>
        </form>
      </div>
      
      <div class="admin-controls">
        <h4 style="color: #ffcc00; margin-bottom: 15px; text-align: center;">
          <i class="fas fa-cogs"></i> Management Controls
        </h4>
        <div class="control-buttons">
          <button type="button" class="btn btn-warning" onclick="resetToDefault()">
            <i class="fas fa-redo"></i> Reset to Default
          </button>
          <button type="button" class="btn btn-danger" onclick="logoutAdmin()">
            <i class="fas fa-sign-out-alt"></i> Logout
          </button>
        </div>
      </div>
    </div>
    
    <!-- Service boxes grid -->
    <div class="service-grid" id="serviceGrid">
      <!-- Services will be loaded here -->
    </div>
  </div>
</section>

<section id="about" class="page"><h2>About</h2></section>
<section id="vehicle" class="page"><h2>Vehicle Service</h2></section>
<section id="downloader" class="page"><h2>Downloader</h2></section>
</main>

<script>
// ===== PASSWORD SETUP =====
// CHANGE THIS PASSWORD TO YOUR OWN SECURE PASSWORD
const ADMIN_PASSWORD = "dasun123"; // You can change this to any password you want

// ===== WHATSAPP CONTACT =====
const WHATSAPP_NUMBER = "0743277981";

// Function to open WhatsApp
function openWhatsApp(serviceName) {
  const message = `Hello! I'm interested in your "${serviceName}" service. Please provide more details.`;
  const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(message)}`;
  window.open(url, '_blank');
}

// Function to open WhatsApp for buying password
function buyPassword() {
  const message = `Hello Tech With Dasun! I want to buy the admin password for your store website. Please provide details about pricing and payment.`;
  const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(message)}`;
  window.open(url, '_blank');
}

// ===== ENCRYPTION FUNCTIONS =====
function simpleEncrypt(text) {
  return btoa(text);
}

function simpleDecrypt(text) {
  try {
    return atob(text);
  } catch {
    return null;
  }
}

// ===== STATE MANAGEMENT =====
let isAdminLoggedIn = false;
let editServiceId = null;

// ===== BACKGROUND ANIMATIONS =====
function createMatrixRain() {
  const matrixRain = document.getElementById('matrixRain');
  const characters = '01';
  const columns = Math.floor(window.innerWidth / 20);
  
  for (let i = 0; i < columns; i++) {
    const raindrop = document.createElement('div');
    raindrop.className = 'raindrop';
    raindrop.style.left = `${(i * 20) + Math.random() * 20}px`;
    raindrop.style.animationDuration = `${Math.random() * 3 + 2}s`;
    raindrop.style.animationDelay = `${Math.random() * 2}s`;
    raindrop.textContent = characters[Math.floor(Math.random() * characters.length)];
    matrixRain.appendChild(raindrop);
    
    // Create multiple characters in one column
    for (let j = 0; j < Math.floor(Math.random() * 10) + 5; j++) {
      setTimeout(() => {
        const char = document.createElement('div');
        char.className = 'raindrop';
        char.style.left = `${(i * 20) + Math.random() * 20}px`;
        char.style.top = `-${Math.random() * 100}px`;
        char.style.animationDuration = `${Math.random() * 3 + 2}s`;
        char.style.animationDelay = `${Math.random() * 2 + j * 0.2}s`;
        char.textContent = characters[Math.floor(Math.random() * characters.length)];
        char.style.opacity = Math.random() * 0.5 + 0.3;
        matrixRain.appendChild(char);
        
        // Remove character after animation
        setTimeout(() => {
          if (char.parentNode) {
            char.parentNode.removeChild(char);
          }
        }, (parseFloat(char.style.animationDuration) + parseFloat(char.style.animationDelay)) * 1000);
      }, j * 200);
    }
  }
}

// ===== EXISTING FUNCTIONS =====
function toggleMenu(){
  const m=document.getElementById("menu");
  m.style.display=m.style.display==="block"?"none":"block";
}

function openPage(id){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  document.getElementById("menu").style.display="none";
  window.scrollTo(0,0);
  
  // Initialize store page if opened
  if (id === 'store') {
    initializeStorePage();
  }
}

const audio=document.getElementById("audio");
const icon=document.getElementById("icon");
const time=document.getElementById("time");

function toggleAudio(){
  if(audio.paused){
    audio.play();
    icon.className="fas fa-pause";
  }else{
    audio.pause();
    icon.className="fas fa-play";
  }
}

audio.ontimeupdate=()=>{
  let m=Math.floor(audio.currentTime/60);
  let s=Math.floor(audio.currentTime%60).toString().padStart(2,"0");
  time.textContent=`${m}:${s}`;
}

// ===== ADMIN FUNCTIONS =====
function toggleAdminLogin() {
  const loginForm = document.getElementById('adminLoginForm');
  const loginBtn = document.getElementById('adminLoginBtn');
  
  if (isAdminLoggedIn) {
    logoutAdmin();
    return;
  }
  
  if (loginForm.style.display === 'none' || loginForm.style.display === '') {
    loginForm.style.display = 'block';
    loginBtn.classList.add('admin-active');
    loginForm.scrollIntoView({ behavior: 'smooth' });
  } else {
    closeAdminLogin();
  }
}

function closeAdminLogin() {
  document.getElementById('adminLoginForm').style.display = 'none';
  document.getElementById('adminLoginBtn').classList.remove('admin-active');
  document.getElementById('adminPassword').value = '';
}

function adminLogin() {
  const password = document.getElementById('adminPassword').value;
  
  if (password === ADMIN_PASSWORD) {
    isAdminLoggedIn = true;
    document.getElementById('adminPanel').classList.add('active');
    document.getElementById('adminLoginForm').style.display = 'none';
    document.getElementById('adminLoginBtn').innerHTML = '<i class="fas fa-user-cog"></i>';
    document.getElementById('editModeIndicator').classList.add('active');
    
    // Show admin controls on service boxes
    showAdminControls();
    
    alert('Admin login successful! You can now edit services.');
  } else {
    alert('Incorrect password! Only you can access the admin panel.');
    document.getElementById('adminPassword').value = '';
    document.getElementById('adminPassword').focus();
  }
}

function logoutAdmin() {
  isAdminLoggedIn = false;
  document.getElementById('adminPanel').classList.remove('active');
  document.getElementById('adminLoginBtn').innerHTML = '<i class="fas fa-lock"></i>';
  document.getElementById('adminLoginBtn').classList.remove('admin-active');
  document.getElementById('editModeIndicator').classList.remove('active');
  
  // Hide admin controls on service boxes
  hideAdminControls();
  
  // Clear form
  clearForm();
  
  alert('Admin logged out successfully.');
}

// ===== STORE PAGE FUNCTIONS =====
function initializeStorePage() {
  loadServices();
  
  // Setup form submission
  document.getElementById('serviceForm').addEventListener('submit', function(e) {
    e.preventDefault();
    saveService();
  });
  
  // Check if admin was previously logged in
  const savedLogin = localStorage.getItem('techDasunAdminLoggedIn');
  if (savedLogin === 'true') {
    // Auto login if session exists
    isAdminLoggedIn = true;
    document.getElementById('adminPanel').classList.add('active');
    document.getElementById('adminLoginBtn').innerHTML = '<i class="fas fa-user-cog"></i>';
    document.getElementById('editModeIndicator').classList.add('active');
    showAdminControls();
  }
}

function loadServices() {
  let services = getServicesFromStorage();
  
  // If no services in storage, load defaults
  if (!services || services.length === 0) {
    services = getDefaultServices();
    saveServicesToStorage(services);
  }
  
  renderServices(services);
}

function getServicesFromStorage() {
  try {
    const encrypted = localStorage.getItem('techDasunServicesEncrypted');
    if (!encrypted) return null;
    
    const decrypted = simpleDecrypt(encrypted);
    if (!decrypted) return null;
    
    return JSON.parse(decrypted);
  } catch (error) {
    console.error('Error loading services:', error);
    return null;
  }
}

function saveServicesToStorage(services) {
  try {
    const jsonString = JSON.stringify(services);
    const encrypted = simpleEncrypt(jsonString);
    localStorage.setItem('techDasunServicesEncrypted', encrypted);
    
    // Also save login state
    if (isAdminLoggedIn) {
      localStorage.setItem('techDasunAdminLoggedIn', 'true');
    }
  } catch (error) {
    console.error('Error saving services:', error);
  }
}

function getDefaultServices() {
  return [
    {
      id: 1,
      name: "WhatsApp Bot Development",
      icon: "fas fa-robot",
      description: "Custom WhatsApp bot development with advanced features, AI integration, and multi-language support.",
      price: "5,000 LKR",
      color: "#00ffcc"
    },
    {
      id: 2,
      name: "Website Design",
      icon: "fas fa-code",
      description: "Modern responsive website design with animations, SEO optimization, and mobile compatibility.",
      price: "8,000 LKR",
      color: "#ffcc00"
    },
    {
      id: 3,
      name: "Tech Support",
      icon: "fas fa-headset",
      description: "24/7 technical support for software issues, troubleshooting, and system maintenance.",
      price: "2,500 LKR/month",
      color: "#ff3366"
    },
    {
      id: 4,
      name: "App Development",
      icon: "fas fa-mobile-alt",
      description: "Cross-platform mobile application development for Android and iOS with backend integration.",
      price: "15,000 LKR",
      color: "#3366ff"
    },
    {
      id: 5,
      name: "Data Recovery",
      icon: "fas fa-hdd",
      description: "Professional data recovery services for hard drives, SSDs, USB drives, and memory cards.",
      price: "3,500 LKR",
      color: "#33cc33"
    },
    {
      id: 6,
      name: "SEO Optimization",
      icon: "fas fa-chart-line",
      description: "Search Engine Optimization to improve your website ranking on Google and other search engines.",
      price: "6,000 LKR",
      color: "#00ffcc"
    }
  ];
}

function renderServices(services) {
  const serviceGrid = document.getElementById('serviceGrid');
  serviceGrid.innerHTML = '';
  
  services.forEach(service => {
    const serviceBox = document.createElement('div');
    serviceBox.className = 'service-box';
    serviceBox.style.borderColor = service.color;
    serviceBox.dataset.id = service.id;
    
    // Create contact button HTML
    const contactButtonHTML = `
      <button class="contact-btn" onclick="openWhatsApp('${service.name.replace(/'/g, "\\'")}')">
        <i class="fab fa-whatsapp"></i> Contact Us Owner
      </button>
    `;
    
    serviceBox.innerHTML = `
      <div class="service-icon">
        <i class="${service.icon}"></i>
      </div>
      <h3 class="service-title">${service.name}</h3>
      <p class="service-description">${service.description}</p>
      <div class="service-price">${service.price}</div>
      ${contactButtonHTML}
      ${isAdminLoggedIn ? `
        <div class="add-service-btn" onclick="editService(${service.id})">
          <i class="fas fa-edit"></i>
        </div>
        <div class="add-service-btn" style="top: 60px; background: rgba(255, 51, 102, 0.2);" onclick="deleteService(${service.id})">
          <i class="fas fa-trash"></i>
        </div>
      ` : ''}
    `;
    
    // For normal users, show service details on click (excluding the button click)
    if (!isAdminLoggedIn) {
      serviceBox.addEventListener('click', function(e) {
        // Don't trigger if the click is on the contact button
        if (!e.target.closest('.contact-btn')) {
          showServiceDetails(service);
        }
      });
    }
    
    serviceGrid.appendChild(serviceBox);
  });
}

function showServiceDetails(service) {
  const details = `
Service: ${service.name}
Price: ${service.price}
Description: ${service.description}

To purchase this service, please contact Tech With Dasun.
  `;
  alert(details);
}

function showAdminControls() {
  const serviceBoxes = document.querySelectorAll('.service-box');
  serviceBoxes.forEach(box => {
    const editBtn = box.querySelector('.add-service-btn');
    const deleteBtn = box.querySelector('.add-service-btn:nth-child(2)');
    if (editBtn) editBtn.style.opacity = '1';
    if (deleteBtn) deleteBtn.style.opacity = '1';
  });
}

function hideAdminControls() {
  const serviceBoxes = document.querySelectorAll('.service-box');
  serviceBoxes.forEach(box => {
    const editBtn = box.querySelector('.add-service-btn');
    const deleteBtn = box.querySelector('.add-service-btn:nth-child(2)');
    if (editBtn) editBtn.style.opacity = '0';
    if (deleteBtn) deleteBtn.style.opacity = '0';
  });
}

function saveService() {
  const name = document.getElementById('serviceName').value.trim();
  const icon = document.getElementById('serviceIcon').value.trim();
  const description = document.getElementById('serviceDescription').value.trim();
  const price = document.getElementById('servicePrice').value.trim();
  const color = document.getElementById('serviceColor').value;
  
  if (!name || !description || !price) {
    alert('Please fill in all required fields!');
    return;
  }
  
  let services = getServicesFromStorage() || [];
  const priceWithCurrency = price.includes('LKR') ? price : price + ' LKR';
  
  if (editServiceId) {
    // Update existing service
    const index = services.findIndex(s => s.id === editServiceId);
    if (index !== -1) {
      services[index] = {
        ...services[index],
        name,
        icon: icon || 'fas fa-cogs',
        description,
        price: priceWithCurrency,
        color
      };
    }
    editServiceId = null;
  } else {
    // Add new service
    const newId = services.length > 0 ? Math.max(...services.map(s => s.id)) + 1 : 1;
    const newService = {
      id: newId,
      name,
      icon: icon || 'fas fa-cogs',
      description,
      price: priceWithCurrency,
      color
    };
    
    services.push(newService);
  }
  
  saveServicesToStorage(services);
  renderServices(services);
  clearForm();
  
  const message = editServiceId ? 'Service updated successfully!' : 'Service added successfully!';
  alert(message);
  
  // Scroll to the updated/added service
  setTimeout(() => {
    const serviceGrid = document.getElementById('serviceGrid');
    serviceGrid.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }, 300);
}

function editService(id) {
  const services = getServicesFromStorage() || [];
  const service = services.find(s => s.id === id);
  
  if (!service) return;
  
  editServiceId = id;
  
  // Fill form with service data
  document.getElementById('serviceName').value = service.name;
  document.getElementById('serviceIcon').value = service.icon;
  document.getElementById('serviceDescription').value = service.description;
  document.getElementById('servicePrice').value = service.price.replace(' LKR', '');
  document.getElementById('serviceColor').value = service.color;
  
  // Scroll to form
  document.getElementById('adminPanel').scrollIntoView({ behavior: 'smooth' });
  
  // Change button text
  const submitBtn = document.querySelector('#serviceForm button[type="submit"]');
  submitBtn.innerHTML = '<i class="fas fa-save"></i> Update Service';
}

function deleteService(id) {
  if (!confirm('Are you sure you want to delete this service?')) return;
  
  let services = getServicesFromStorage() || [];
  services = services.filter(s => s.id !== id);
  
  saveServicesToStorage(services);
  renderServices(services);
  
  alert('Service deleted successfully!');
  
  // Clear form if editing this service
  if (editServiceId === id) {
    clearForm();
    editServiceId = null;
  }
}

function clearForm() {
  document.getElementById('serviceForm').reset();
  document.getElementById('serviceIcon').value = 'fas fa-robot';
  editServiceId = null;
  
  // Reset button text
  const submitBtn = document.querySelector('#serviceForm button[type="submit"]');
  submitBtn.innerHTML = '<i class="fas fa-save"></i> Add Service';
}

function resetToDefault() {
  if (!confirm('This will reset all services to default. Are you sure?')) return;
  
  const defaultServices = getDefaultServices();
  saveServicesToStorage(defaultServices);
  renderServices(defaultServices);
  
  alert('Services reset to default successfully!');
}

// ===== INITIALIZE ON PAGE LOAD =====
document.addEventListener('DOMContentLoaded', function() {
  // Initialize matrix rain background
  createMatrixRain();
  
  // Regenerate matrix rain every 10 seconds
  setInterval(() => {
    const matrixRain = document.getElementById('matrixRain');
    matrixRain.innerHTML = '';
    createMatrixRain();
  }, 10000);
  
  if (document.getElementById('store').classList.contains('active')) {
    initializeStorePage();
  }
});

// Resize handler for background
window.addEventListener('resize', function() {
  const matrixRain = document.getElementById('matrixRain');
  matrixRain.innerHTML = '';
  createMatrixRain();
});
</script>
</body>
  </html>
